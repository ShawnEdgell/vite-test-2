(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function c(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=c(t);fetch(t.href,o)}})();document.addEventListener("DOMContentLoaded",function(){const s=document.getElementById("todoInput"),d=document.getElementById("addTodo"),c=document.getElementById("todoList"),a=document.getElementById("priorityInput");l();function t(){s.value.trim()!==""&&(o({id:Date.now(),text:s.value.trim(),priority:a.value,date:new Date(Date.now()).toLocaleDateString()}),s.value="",r())}d.addEventListener("click",t),s.addEventListener("keyup",function(n){n.key==="Enter"&&t()});function o(n){const e=document.createElement("li");switch(e.classList.add("list-group-item","d-flex","justify-content-between","align-items-center","task"),n.priority){case"high":e.classList.add("priority-high");break;case"medium":e.classList.add("priority-medium");break;case"low":e.classList.add("priority-low");break}e.setAttribute("data-id",n.id),e.innerHTML=`
      <div class="d-flex align-items-center w-100">
        <span class="todo-label flex-grow-1" contenteditable="true">${n.text}</span>
        <div class="d-flex align-items-center">
          <small>${n.date}</small>
          <button class="btn btn-danger btn-sm ml-1 delete-btn">X</button>
        </div>
      </div>`,c.appendChild(e);const i=e.querySelector(".todo-label");i.addEventListener("blur",function(){n.text=i.textContent,r()}),i.addEventListener("keydown",function(u){u.key==="Enter"&&i.blur()}),e.querySelector(".delete-btn").addEventListener("click",function(){e.remove(),r()})}function r(){const n=[];Array.from(c.children).forEach(e=>{let i;e.classList.contains("priority-high")?i="high":e.classList.contains("priority-medium")?i="medium":e.classList.contains("priority-low")&&(i="low"),n.push({id:e.getAttribute("data-id"),text:e.querySelector(".todo-label").textContent,date:e.querySelector("small").textContent,priority:i})}),localStorage.setItem("todos",JSON.stringify(n))}function l(){const n=JSON.parse(localStorage.getItem("todos"));n&&n.forEach(e=>o(e))}});
