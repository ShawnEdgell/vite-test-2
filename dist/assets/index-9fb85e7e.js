(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))d(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function n(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function d(e){if(e.ep)return;e.ep=!0;const i=n(e);fetch(e.href,i)}})();function l(t){return document.getElementById(t)}function p(t,...o){const n=document.createElement(t);return n.classList.add(...o),n}const m="todos";function u(t){localStorage.setItem(m,JSON.stringify(t))}function g(){return JSON.parse(localStorage.getItem(m))||[]}function f(t){const o=p("li","list-group-item","d-flex","justify-content-between","align-items-center","task");switch(t.priority){case"high":o.classList.add("priority-high");break;case"medium":o.classList.add("priority-medium");break;case"low":o.classList.add("priority-low");break}o.setAttribute("data-id",t.id),o.innerHTML=`
        <div class="d-flex align-items-center w-100">
            <span class="todo-label flex-grow-1" contenteditable="true">${t.text}</span>
            <div class="d-flex align-items-center">
                <small>${t.date}</small>
                <button class="btn btn-danger btn-sm ml-1 delete-btn">X</button>
            </div>
        </div>`;const n=o.querySelector(".todo-label");return n.addEventListener("blur",function(){t.text=n.textContent,u()}),n.addEventListener("keydown",function(e){e.key==="Enter"&&(e.preventDefault(),n.blur())}),o.querySelector(".delete-btn").addEventListener("click",function(){o.remove(),u()}),o}function y(){const t=document.getElementById("darkModeToggle"),o=document.body;function n(){o.classList.toggle("dark-mode")}t.addEventListener("change",function(){n()}),o.classList.contains("dark-mode")&&(t.checked=!0)}document.addEventListener("DOMContentLoaded",function(){const t=l("todoInput"),o=l("addTodo"),n=l("todoList"),d=l("priorityInput");function e(){if(t.value.trim()!==""){const s={id:Date.now(),text:t.value.trim(),priority:d.value,date:new Date(Date.now()).toLocaleDateString()},r=f(s);n.appendChild(r),t.value="",u(i())}}o.addEventListener("click",e),t.addEventListener("keyup",function(s){s.key==="Enter"&&e()});function i(){const s=[];return Array.from(n.children).forEach(r=>{let a;r.classList.contains("priority-high")?a="high":r.classList.contains("priority-medium")?a="medium":r.classList.contains("priority-low")&&(a="low"),s.push({id:r.getAttribute("data-id"),text:r.querySelector(".todo-label").textContent,date:r.querySelector("small").textContent,priority:a})}),s}g().forEach(s=>{const r=f(s);n.appendChild(r)}),y()});
