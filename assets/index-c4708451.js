(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&d(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=n(t);fetch(t.href,r)}})();function l(e){return document.getElementById(e)}function p(e,...o){const n=document.createElement(e);return n.classList.add(...o),n}const g="todos";function u(e){localStorage.setItem(g,JSON.stringify(e))}function y(){const e=localStorage.getItem(g);return e?JSON.parse(e):[]}function f(e){const o=p("li","list-group-item","d-flex","justify-content-between","align-items-center","task");switch(e.priority){case"high":o.classList.add("priority-high");break;case"medium":o.classList.add("priority-medium");break;case"low":o.classList.add("priority-low");break}o.setAttribute("data-id",e.id),o.innerHTML=`
        <div class="d-flex align-items-center w-100">
            <span class="todo-label flex-grow-1" contenteditable="true">${e.text}</span>
            <div class="d-flex align-items-center">
                <small>${e.date}</small>
                <button class="btn btn-danger btn-sm ml-1 delete-btn">X</button>
            </div>
        </div>`;const n=o.querySelector(".todo-label");return n.addEventListener("blur",function(){e.text=n.textContent,u()}),n.addEventListener("keydown",function(t){t.key==="Enter"&&(t.preventDefault(),n.blur())}),o.querySelector(".delete-btn").addEventListener("click",function(){o.remove(),u()}),o}const m="darkMode";function L(){const e=document.getElementById("darkModeToggle"),o=document.body;function n(){const t=o.classList.toggle("dark-mode");localStorage.setItem(m,t)}e.addEventListener("change",n),localStorage.getItem(m)==="true"&&(o.classList.add("dark-mode"),e.checked=!0)}document.addEventListener("DOMContentLoaded",function(){const e=l("todoInput"),o=l("addTodo"),n=l("todoList"),d=l("priorityInput");function t(){if(e.value.trim()!==""){const s={id:Date.now(),text:e.value.trim(),priority:d.value,date:new Date(Date.now()).toLocaleDateString()},i=f(s);n.appendChild(i),e.value="",u(r())}}o.addEventListener("click",t),e.addEventListener("keyup",function(s){s.key==="Enter"&&t()});function r(){const s=[];return Array.from(n.children).forEach(i=>{let c;i.classList.contains("priority-high")?c="high":i.classList.contains("priority-medium")?c="medium":i.classList.contains("priority-low")&&(c="low"),s.push({id:i.getAttribute("data-id"),text:i.querySelector(".todo-label").textContent,date:i.querySelector("small").textContent,priority:c})}),s}y().forEach(s=>{const i=f(s);n.appendChild(i)}),L()});
